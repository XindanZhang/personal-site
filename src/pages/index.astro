---
import BaseLayout from "../layouts/BaseLayout.astro";
import { site } from "../data/site";

const year = new Date().getFullYear();
---

<BaseLayout title={`${site.name} · ${site.brand}`} description={`${site.name} — ${site.tagline}.`}>
  <div class="stars"></div>
  <div class="nebula"></div>

  <main class="container">
    <nav class="nav" aria-label="Primary">
      <div class="nav-links">
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>

    <header class="hero">
      <div class="bot-icon" aria-hidden="true">
        <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="pixel-top" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="var(--coral-bright)"/>
              <stop offset="100%" stop-color="var(--coral-mid)"/>
            </linearGradient>
            <linearGradient id="pixel-side" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="var(--coral-mid)"/>
              <stop offset="100%" stop-color="var(--coral-dark)"/>
            </linearGradient>
            <linearGradient id="pixel-front" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="var(--cyan-bright)"/>
              <stop offset="100%" stop-color="var(--cyan-mid)"/>
            </linearGradient>
          </defs>

          <circle cx="60" cy="60" r="46" stroke="var(--cyan-bright)" stroke-opacity="0.35" stroke-width="2" class="ring"/>

          <!-- Connectors -->
          <path d="M32 44 L60 30 L88 44" stroke="var(--cyan-bright)" stroke-opacity="0.6" stroke-width="2" />
          <path d="M32 76 L60 90 L88 76" stroke="var(--cyan-bright)" stroke-opacity="0.4" stroke-width="2" />
          <path d="M32 44 L32 76" stroke="var(--cyan-bright)" stroke-opacity="0.4" stroke-width="2" />
          <path d="M88 44 L88 76" stroke="var(--cyan-bright)" stroke-opacity="0.4" stroke-width="2" />
          <path d="M60 30 L60 60" stroke="var(--cyan-bright)" stroke-opacity="0.4" stroke-width="2" />

          <!-- Pixel cubes (isometric-ish) -->
          <!-- Top node -->
          <polygon points="60 22 72 28 60 34 48 28" fill="url(#pixel-top)" />
          <polygon points="48 28 60 34 60 48 48 42" fill="url(#pixel-side)" />
          <polygon points="60 34 72 28 72 42 60 48" fill="url(#pixel-front)" />

          <!-- Left node -->
          <polygon points="28 46 40 52 28 58 16 52" fill="url(#pixel-top)" />
          <polygon points="16 52 28 58 28 72 16 66" fill="url(#pixel-side)" />
          <polygon points="28 58 40 52 40 66 28 72" fill="url(#pixel-front)" />

          <!-- Right node -->
          <polygon points="92 46 104 52 92 58 80 52" fill="url(#pixel-top)" />
          <polygon points="80 52 92 58 92 72 80 66" fill="url(#pixel-side)" />
          <polygon points="92 58 104 52 104 66 92 72" fill="url(#pixel-front)" />

          <!-- Bottom node -->
          <polygon points="60 86 72 92 60 98 48 92" fill="url(#pixel-top)" />
          <polygon points="48 92 60 98 60 112 48 106" fill="url(#pixel-side)" />
          <polygon points="60 98 72 92 72 106 60 112" fill="url(#pixel-front)" />
        </svg>
      </div>

      <h1 class="title">
        <span class="title-main">{site.name}</span>
      </h1>

      <p class="tagline">{site.tagline}</p>

      {site.intro ? (
        <p class="description">
          {site.intro}
        </p>
      ) : null}

      <div class="cta-row">
        <a class="cta primary" href={site.links.email}>Email</a>
        <a class="cta ghost" href={site.links.github} target="_blank" rel="noopener">GitHub</a>
        <a class="cta ghost" href={site.links.linkedin} target="_blank" rel="noopener">LinkedIn</a>
      </div>
    </header>

    <section id="about" class="section">
      <div class="section-header">
        <h2 class="section-title"><span class="claw-accent">⟩</span> About</h2>
      </div>
      <div class="about-grid">
        <div class="panel">
          <h3>Bio</h3>
          <p>
            Placeholder bio. Swap this with your story: what you research, what you build,
            and what problems you want to solve next.
          </p>
          <div class="panel terminal-panel">
            <div class="terminal-header">
              <span class="terminal-dot"></span>
              <span class="terminal-dot"></span>
              <span class="terminal-dot"></span>
              <span class="terminal-title">xindanbot://status</span>
            </div>
            <div class="terminal-body">
              <div class="terminal-line">$ boot --role "{site.tagline}"</div>
              <div class="terminal-line"><strong>ok</strong> · research mode active</div>
              <div class="terminal-line">$ focus --topic "{site.focus}"</div>
            </div>
          </div>
        </div>
        <div class="panel status-panel">
          <div class="status-row"><span>status</span><span class="value">{site.status}</span></div>
          <div class="status-row"><span>location</span><span class="value">{site.location}</span></div>
          <div class="status-row"><span>focus</span><span class="value">{site.focus}</span></div>
          <div class="status-row"><span>availability</span><span class="value">Open to collab</span></div>
        </div>
      </div>
    </section>

    <section id="projects" class="section">
      <div class="section-header">
        <h2 class="section-title"><span class="claw-accent">⟩</span> Projects</h2>
      </div>
      <div class="projects-grid">
        {site.projects.map((project) => (
          <a
            class={`project-card ${project.tag === "Featured" ? "featured" : ""}`}
            href={project.url}
            target={project.url === "#" ? "_self" : "_blank"}
            rel={project.url === "#" ? undefined : "noopener"}
          >
            <div class="project-tag">{project.tag}</div>
            <h3>{project.name}</h3>
            <p>{project.description}</p>
            <span class="project-link">View →</span>
          </a>
        ))}
      </div>
    </section>

    <section id="contact" class="section">
      <div class="panel contact-panel">
        <h2 class="section-title" style="justify-content: center;">Contact</h2>
        <p>Want to collaborate, swap ideas, or build something weird? Send a ping.</p>
        <div class="cta-row" style="margin-top: 18px;">
          <a class="cta primary" href={site.links.email}>Email</a>
          <a class="cta ghost" href={site.links.github} target="_blank" rel="noopener">GitHub</a>
          <a class="cta ghost" href={site.links.linkedin} target="_blank" rel="noopener">LinkedIn</a>
        </div>
      </div>
    </section>

    <footer class="footer">
      © {year} {site.name}. Built with Astro and a bot core.
    </footer>
  </main>
</BaseLayout>
